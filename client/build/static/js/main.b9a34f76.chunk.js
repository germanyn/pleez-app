(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/logo.266a93dc.png"},140:function(e,t,a){e.exports=a(141)},141:function(e,t,a){a(171)},148:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(107),r=a(0),o=a.n(r),i=a(13),c=a.n(i);a(148),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(12),u=a(10),s=a(244),m=a(243),d=a(229),p=a(69),f=a(123),g=a.n(f),b=a(181),O=a(174),E=a(180),h=a(4),v=a(15),j=a(17),y=a(215),w=a(248),x=function(e){return o.a.createElement(y.a,{maxWidth:"sm"},o.a.createElement(w.a,{my:4},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},"Home")))},C=a(41),P=a.n(C),D=a(53),S=a(222),k=a(226),I=a(227),z=a(224),_=a(228),R=a(225),$=a(20),q=a(21),B=a.n(q);function N(){var e=Object($.a)(["\n  query BuscarCategoriaAdmin($id: String!) {\n    categoria(id: $id) {\n      _id\n      nome\n      produtos {\n        _id\n        nome\n        preco\n        descricao\n      }\n    }\n  }\n"]);return N=function(){return e},e}function A(){var e=Object($.a)(["\n  query BuscarCategoriasAdmin {\n    categorias {\n      _id\n      nome\n    }\n  }\n"]);return A=function(){return e},e}var T=B()(A()),W=B()(N());function F(){var e=Object($.a)(["\n  mutation TrocarProdutosDaCategoria($idCategoria: String!, $indiceA: Int!, $indiceB: Int!) {\n    trocarOrdemProdutosDaCategoria(idCategoria: $idCategoria, indiceA: $indiceA, indiceB: $indiceB) {\n      indiceA\n      indiceB\n    }\n  }\n"]);return F=function(){return e},e}function L(){var e=Object($.a)(["\n  mutation DeletarCategoria($id: String!) {\n    deletarCategoria(id: $id) {\n      _id\n    }\n  }\n"]);return L=function(){return e},e}function Q(){var e=Object($.a)(["\n  mutation AtualizarCategoria($id: String!, $categoriaInput: AtualizarCategoriaInput!) {\n    atualizarCategoria(id: $id, categoria: $categoriaInput) {\n      _id\n      nome\n    }\n  }\n"]);return Q=function(){return e},e}function H(){var e=Object($.a)(["\n  mutation CriarCategoria($input: CriarCategoriaInput!) {\n    criarCategoria(categoria: $input) {\n      _id\n      nome\n      produtos {\n        _id\n      }\n    }\n  }\n"]);return H=function(){return e},e}var M=B()(H()),J=B()(Q()),V=B()(L()),G=B()(F()),X=a(2),K=a(111),U=a(217),Y=a(218),Z=a(219),ee=a(220),te=a(221),ae=a(223);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=Object(K.a)((function(e){return Object(U.a)({fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})})),ie={nome:""},ce=Object(r.forwardRef)((function(e,t){var a=e.categoriaInicial,n=void 0===a?re({},ie):a,i=Object(X.a)(e,["categoriaInicial"]),c=(oe(),o.a.useState(!1)),u=Object(l.a)(c,2),s=u[0],m=u[1],d=o.a.useState(re({},n)),p=Object(l.a)(d,2),f=p[0],g=p[1];return Object(r.useImperativeHandle)(t,(function(){return{setCategoria:g,setOpened:m}})),o.a.createElement(o.a.Fragment,null,o.a.cloneElement(i.children,{onClick:function(){g(re({},n)),m(!0)}}),o.a.createElement(Y.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.onConfirma&&i.onConfirma(f),m(!1)}},o.a.createElement(Z.a,{id:"form-dialog-title"}," Nova Categoria"),o.a.createElement(ee.a,null,o.a.createElement(te.a,{autoFocus:!0,margin:"dense",label:"Nome",fullWidth:!0,onChange:function(e){return g(re({},f,{nome:e.target.value}))},value:f.nome})),o.a.createElement(ae.a,null,o.a.createElement(z.a,{color:"primary",type:"submit"},"Confirma")))))})),le=a(26),ue=a.n(le),se=a(112),me=a.n(se),de=a(125),pe=Object(de.a)({palette:{primary:{main:"rgb(194, 12, 12)"},secondary:{main:"rgb(194, 12, 12)"},error:{main:me.a.A400},background:{default:"#fff"}},mixins:{toolbar:{minHeight:56,"@media (min-width:0px) and (orientation: landscape)":{minHeight:48},"@media (min-width:600px)":{minHeight:64}}}}),fe=a(37),ge=a(84);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=Object(b.a)((function(e){return Object(O.a)({categorias:{width:240,display:"flex",flexDirection:"column"},rightIcon:{marginLeft:e.spacing(1)},selected:{backgroundColor:e.palette.primary.light,text:e.palette.primary.contrastText,"&:hover":{backgroundColor:ge.a[100]}}})})),he=o.a.forwardRef((function(e,t){return o.a.createElement(fe.b,Object.assign({innerRef:t},e))})),ve=Object(E.a)((function(e){var t=Object(v.g)(),a=Ee(),n=Object(v.f)(),r=Object(R.b)(T),i=r.loading,c=r.data,u=r.error,s=Object(R.a)(M,{update:function(e,t){var a=t.data.criarCategoria,n=e.readQuery({query:T});if(n){var r=n.categorias;e.writeQuery({query:T,data:{categorias:r.concat([a])}})}}}),m=Object(l.a)(s,1)[0],d=function(){var e=Object(D.a)(P.a.mark((function e(t){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:{input:Oe({},t)}});case 2:a=e.sent,r=a.data,n.push("/cardapio/categorias/".concat(r.criarCategoria._id));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?o.a.createElement("div",null,"Carregando..."):u?o.a.createElement("div",null,u):c?c.errors?o.a.createElement("div",null,c.errors):o.a.createElement("div",{style:{display:"flex",flex:1}},o.a.createElement(w.a,{m:1,className:a.categorias},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},"Categorias"),o.a.createElement(S.a,{style:{flex:1}},c.categorias.map((function(e){return o.a.createElement(k.a,{button:!0,key:e._id,component:he,to:"/cardapio/categorias/".concat(e._id),selected:t.pathname==="/cardapio/categorias/".concat(e._id)},o.a.createElement(I.a,{color:"primary",primary:e.nome}))}))),o.a.createElement(ce,{onConfirma:d},o.a.createElement(z.a,{fullWidth:!0,color:"primary",variant:"contained",size:"medium"},"Adicionar Categoria",o.a.createElement(ue.a,{className:a.rightIcon,path:j.i,size:1,color:pe.palette.primary.contrastText})))),o.a.createElement(_.a,{orientation:"vertical"}),o.a.createElement(v.c,null,e.rotas&&Object.entries(e.rotas).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement(v.a,{key:a,path:n.path,render:function(e){return o.a.createElement(n.componente,Object.assign({},e,{rotas:n.path}))}})})),"/>",o.a.createElement(v.a,{exact:!0,path:e.path},o.a.createElement(w.a,{m:1},"Selecione uma categoria")))):o.a.createElement("div",null,"Sem dados...")})),je=a(23),ye=a(38),we=a(230),xe=a(231),Ce=a(232),Pe=a(233),De=function(e){return e.toLocaleString("ptBR",{currency:"BRL",maximumFractionDigits:2,minimumFractionDigits:2})},Se=function(e){return e.replace(/-|\/|\.\./g,"")};function ke(){var e=Object($.a)(["\n  mutation DeletarProduto($id: String!) {\n    deletarProduto(id: $id) {\n      _id\n      categoria {\n        _id\n      }\n    }\n  }\n"]);return ke=function(){return e},e}function Ie(){var e=Object($.a)(["\n  mutation AtualizarProduto($id: String!, $produtoInput: AtualizarProdutoInput!) {\n    atualizarProduto(id: $id, produto: $produtoInput) {\n      _id\n      nome\n      descricao\n      preco\n    }\n  }\n"]);return Ie=function(){return e},e}function ze(){var e=Object($.a)(["\n  mutation CriarProduto($produtoInput: CriarProdutoInput!) {\n    criarProduto(produto: $produtoInput) {\n      _id\n      nome\n      preco\n      descricao\n      categoria {\n        _id\n      }\n    }\n  }\n"]);return ze=function(){return e},e}var _e=B()(ze()),Re=B()(Ie()),$e=B()(ke());function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ne={nome:"",descricao:"",preco:""},Ae=Object(r.forwardRef)((function(e,t){var a=e.produtoInicial,n=void 0===a?Be({},Ne):a,i=Object(X.a)(e,["produtoInicial"]),c=o.a.useState(!1),u=Object(l.a)(c,2),s=u[0],m=u[1],d=o.a.useState(Be({},n)),p=Object(l.a)(d,2),f=p[0],g=p[1];Object(r.useImperativeHandle)(t,(function(){return{setProduto:g,setOpened:m}}));return o.a.createElement(o.a.Fragment,null,i.children&&o.a.cloneElement(i.children,{onClick:function(){g(Be({},n)),m(!0)}}),o.a.createElement(Y.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f.nome||alert("Informe um Nome"),f.preco||alert("Informe um Pre\xe7o"),i.onConfirma&&i.onConfirma(f),m(!1)}},o.a.createElement(Z.a,{id:"form-dialog-title"}," Novo Produto"),o.a.createElement(ee.a,null,o.a.createElement(te.a,{autoFocus:!0,margin:"dense",label:"Nome",fullWidth:!0,onChange:function(e){return g(Be({},f,{nome:e.target.value}))},value:f.nome||""}),o.a.createElement(te.a,{margin:"dense",label:"Pre\xe7o",fullWidth:!0,type:"number",inputProps:{step:"0.01"},onChange:function(e){return g(Be({},f,{preco:e.target.value}))},value:f.preco||""}),o.a.createElement(te.a,{multiline:!0,margin:"dense",label:"Descricao",fullWidth:!0,onChange:function(e){return g(Be({},f,{descricao:e.target.value}))},value:f.descricao||""})),o.a.createElement(ae.a,null,o.a.createElement(z.a,{color:"primary",type:"submit"},"Confirma")))))}));function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=Object(b.a)((function(e){return Object(O.a)({categorias:{width:240,display:"flex",flexDirection:"column"},rightIcon:{marginLeft:e.spacing(1)},actionButton:{paddingTop:0,paddingBottom:0}})})),Le=Object(E.a)((function(e){var t=Fe(),a=Object(ye.a)(),n=Object(v.h)(),r=Object(v.f)(),i=n&&n.params.id,c=Object(R.b)(W,{variables:{id:i}}),u=c.data,s=c.loading,m=c.error,f=Object(R.a)(J),g=Object(l.a)(f,1)[0],b=Object(R.a)(Re),O=Object(l.a)(b,1)[0],E=Object(R.a)(V,{update:function(e,t){var a=t.data.deletarCategoria,n=e.readQuery({query:T});if(n){var r=n.categorias,o=r.findIndex((function(e){return e._id===a._id}));if(~o){var i=Object(je.a)(r);i.splice(o,1),e.writeQuery({query:T,data:{categorias:i}})}}}}),h=Object(l.a)(E,1)[0],y=Object(R.a)($e,{update:function(e,t){var a=t.data.deletarProduto,n=e.readQuery({query:W,variables:{id:a.categoria._id}});if(n){var r=n.categoria,o=Object(je.a)(r.produtos),i=o.findIndex((function(e){return e._id===a._id}));~i&&(o.splice(i,1),e.writeQuery({query:W,data:{categoria:We({},r,{produtos:o})}}))}}}),x=Object(l.a)(y,1)[0],C=Object(R.a)(_e,{update:function(e,t){var a=t.data.criarProduto,n=e.readQuery({query:W,variables:{id:a.categoria._id}});if(n){var r=n.categoria;e.writeQuery({query:W,data:{categoria:We({},r,{produtos:[].concat(Object(je.a)(r.produtos),[a])})}})}}}),S=Object(l.a)(C,1)[0],k=Object(R.a)(G,{update:function(e,t){var a=t.data.trocarOrdemProdutosDaCategoria;if(u){var n=e.readQuery({query:W,variables:{id:u.categoria._id}});if(n){var r=a.indiceA,o=a.indiceB,i=We({},n.categoria),c=[i.produtos[o],i.produtos[r]];i.produtos[r]=c[0],i.produtos[o]=c[1],e.writeQuery({query:W,data:{categoria:i}})}}}}),I=Object(l.a)(k,1)[0];if(s)return o.a.createElement("div",null,"Carregando...");if(m)return o.a.createElement("div",null,m);if(!u)return o.a.createElement("div",null,"Sem dados...");var $=function(){var e=Object(D.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Deseja mesmo excluir a categoria?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h({variables:{id:u.categoria._id}});case 4:r.push(Ft["editar-cardapios"].path);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(w.a,{m:1,style:{display:"flex",flex:1,flexDirection:"column"}},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},o.a.createElement(ce,{onConfirma:function(e){g({variables:{id:u.categoria._id,categoriaInput:We({},e)}})},categoriaInicial:{nome:u.categoria.nome}},o.a.createElement(d.a,{size:"small",style:{marginRight:a.spacing(1)}},o.a.createElement(ue.a,{path:j.h,size:1}))),u.categoria.nome),o.a.createElement(_.a,null),o.a.createElement("div",{style:{flex:1}},o.a.createElement("div",null,o.a.createElement(we.a,null,o.a.createElement(xe.a,null,u.categoria.produtos.map((function(e,t){return o.a.createElement(Ce.a,{key:e._id},o.a.createElement(Pe.a,{style:{whiteSpace:"nowrap"}},e.nome),o.a.createElement(Pe.a,{align:"right"},De(e.preco)),o.a.createElement(Pe.a,{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",tableLayout:"fixed",maxWidth:0,width:"100%"}},e.descricao||""),o.a.createElement(Pe.a,{style:{paddingLeft:0,paddingRight:0}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ae,{onConfirma:function(t){return function(e,t){O({variables:{id:e,produtoInput:We({},t,{preco:t.preco&&parseFloat(t.preco)})}})}(e._id,t)},produtoInicial:{nome:e.nome,descricao:e.descricao||"",preco:e.preco.toString()}},o.a.createElement(d.a,{size:"small"},o.a.createElement(ue.a,{path:j.h,size:1}))),o.a.createElement(d.a,{size:"small",onClick:function(){return function(e){window.confirm("Deseja mesmo excluir o produto?")&&x({variables:{id:e}})}(e._id)}},o.a.createElement(ue.a,{path:j.m,size:1})),o.a.createElement(d.a,{size:"small",onClick:function(){return function(e){e<=0||I({variables:{idCategoria:u.categoria._id,indiceA:e,indiceB:e-1}})}(t)}},o.a.createElement(ue.a,{path:j.c,size:1})),o.a.createElement(d.a,{size:"small",onClick:function(){return function(e){e>=u.categoria.produtos.length+1||I({variables:{idCategoria:u.categoria._id,indiceA:e,indiceB:e+1}})}(t)}},o.a.createElement(ue.a,{path:j.b,size:1})))))}))))),o.a.createElement("div",{style:{textAlign:"left",paddingTop:a.spacing(2)}},o.a.createElement(Ae,{onConfirma:function(e){return function(e){S({variables:{produtoInput:We({},e,{preco:e.preco&&parseFloat(e.preco),categoria:u.categoria._id})}})}(e)}},o.a.createElement(z.a,{color:"primary",variant:"contained"},"Adicionar Produto",o.a.createElement(ue.a,{path:j.i,className:t.rightIcon,size:1,color:a.palette.primary.contrastText}))))),o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement(z.a,{color:"primary",onClick:$},"Excluir Categoria",o.a.createElement(ue.a,{path:j.i,className:t.rightIcon,size:1,color:a.palette.primary.contrastText}))))})),Qe=a(236),He=a(234),Me=a(235),Je={recebido:{tipo:"recebido",descricao:"Recebido",proximo:"em-preparo",acaoProximo:"Aceitar",rejeitar:"rejeitado",acaoRejeitar:"Rejeitar"},"em-preparo":{tipo:"em-preparo",descricao:"Em Preparo",anterior:"recebido",proximo:"finalizado",acaoProximo:"Pedido Entregue",rejeitar:"cancelado",acaoRejeitar:"Cancelar o Pedido"},finalizado:{tipo:"finalizado",anterior:"em-preparo",descricao:"Finalizado"},rejeitado:{tipo:"rejeitado",descricao:"Rejeitado"},cancelado:{tipo:"cancelado",descricao:"Cancelado"}},Ve=[Je.recebido,Je["em-preparo"],Je.finalizado],Ge=["recebido","em-preparo","finalizado"],Xe=function(e,t){return Ge.indexOf(e.situacao)-Ge.indexOf(t.situacao)};function Ke(){var e=Object($.a)(["\n  query BuscarPedidoAdmin($id: String!) {\n    pedido(id: $id) {\n      _id\n      situacao\n      cliente {\n        nome\n      }\n      itens {\n        quantidade\n        produto {\n          nome\n          preco\n          descricao\n        }\n      }\n    }\n  }\n"]);return Ke=function(){return e},e}function Ue(){var e=Object($.a)(['\n  query BuscarPedidosAdmin {\n    pedidos(filtros: {\n      situacao: [\n        "recebido",\n        "finalizado",\n        "em-preparo"\n      ]\n    }) {\n      _id\n      situacao\n      cliente {\n        nome\n      }\n    }\n  }\n']);return Ue=function(){return e},e}var Ye=B()(Ue()),Ze=B()(Ke()),et=Object(b.a)((function(e){return Object(O.a)({root:{width:240,display:"flex",flexDirection:"column"},rightIcon:{marginLeft:e.spacing(1)}})})),tt=o.a.forwardRef((function(e,t){return o.a.createElement(fe.b,Object.assign({innerRef:t},e))})),at=Object(E.a)((function(e){var t=Object(v.g)(),a=et(),n=(Object(v.f)(),Object(R.b)(Ye)),r=n.loading,i=n.data,c=n.error,u=function(e){switch(e.situacao){case"em-preparo":return o.a.createElement(ue.a,{size:1,path:j.d,color:He.a[500]});case"finalizado":return o.a.createElement(ue.a,{size:1,path:j.d,color:Me.a[500]});default:return o.a.createElement(ue.a,{size:1,path:j.d,color:ge.a[500]})}};return r?o.a.createElement("div",null,"Carregando..."):c?o.a.createElement("div",null,c):i?i.errors?o.a.createElement("div",null,i.errors):o.a.createElement("div",{style:{display:"flex",flex:1}},o.a.createElement(w.a,{m:1,className:a.root},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},"Pedidos"),o.a.createElement(S.a,{style:{flex:1}},i.pedidos.sort(Xe).map((function(e){return o.a.createElement(k.a,{button:!0,key:e._id,component:tt,to:"/pedidos/".concat(e._id),selected:t.pathname==="/cardapio/pedidos/".concat(e._id)},o.a.createElement(I.a,{color:"primary",primary:e.cliente.nome}),o.a.createElement(Qe.a,{style:{justifyContent:"flex-end"}},o.a.createElement(u,{situacao:e.situacao})))}))),o.a.createElement(w.a,{mx:1},Ve.map((function(e){return o.a.createElement("div",{key:e.tipo,style:{display:"flex",justifyContent:"space-between",alignContent:"space-between"}},o.a.createElement(u,{situacao:e.tipo}),o.a.createElement("div",{style:{flex:1,paddingLeft:pe.spacing(1)}}," ",e.descricao," "))})))),o.a.createElement(_.a,{orientation:"vertical"}),o.a.createElement(v.c,null,e.rotas&&Object.entries(e.rotas).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement(v.a,{key:a,path:n.path,render:function(e){return o.a.createElement(n.componente,Object.assign({},e,{rotas:n.path}))}})})),"/>",o.a.createElement(v.a,{exact:!0,path:e.path},o.a.createElement(w.a,{m:1},"Selecione um pedido")))):o.a.createElement("div",null,"Sem dados...")})),nt=a(237),rt=a(238),ot=a(239),it=a(240),ct=a(241);function lt(){var e=Object($.a)(["\n  mutation AtualizarSituacaoPedido(\n      $id: String!\n      $pedido: AtualizarPedidoInput!\n    ) {\n    atualizarPedido(id: $id, pedido: $pedido) {\n      _id\n      situacao\n    }\n  }\n"]);return lt=function(){return e},e}var ut=B()(lt()),st=(Object(b.a)((function(e){return Object(O.a)({})})),Object(E.a)((function(){var e=Object(ye.a)(),t=Object(v.h)(),a=Object(v.f)(),n=t&&t.params.id,r=Object(R.b)(Ze,{variables:{id:n}}),i=r.data,c=r.loading,u=r.error,s=Object(R.a)(ut,{update:function(e,t){var n=t.data.atualizarPedido,r=e.readQuery({query:Ye});if(r&&!Ge.includes(n.situacao)){var o=Object(je.a)(r.pedidos),i=o.findIndex((function(e){return e._id===n._id}));~i&&(o.splice(i,1),e.writeQuery({query:Ye,data:{pedidos:o}}),a.push("/pedidos"))}}}),m=Object(l.a)(s,2),d=m[0],f=m[1].loading;if(c)return o.a.createElement("div",null,"Carregando...");if(u)return o.a.createElement("div",null,u);if(!i)return o.a.createElement("div",null,"Sem dados...");var g=Je[i.pedido.situacao];return o.a.createElement(nt.a,{theme:e},o.a.createElement(w.a,{m:1,style:{display:"flex",flex:1,flexDirection:"column"}},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},g.descricao),o.a.createElement("div",null,o.a.createElement(rt.a,{style:{maxWidth:480}},o.a.createElement(ot.a,null,o.a.createElement(p.a,{variant:"h5",component:"h5",gutterBottom:!0},i.pedido.cliente.nome),o.a.createElement(we.a,null,o.a.createElement(it.a,null,o.a.createElement(Ce.a,null,o.a.createElement(Pe.a,{align:"right"},"Quantidade"),o.a.createElement(Pe.a,null,"Nome"),o.a.createElement(Pe.a,{align:"right"},"Pre\xe7o"))),o.a.createElement(xe.a,null,i.pedido.itens.map((function(e,t){return o.a.createElement(Ce.a,{key:t},o.a.createElement(Pe.a,{align:"right"},e.quantidade),o.a.createElement(Pe.a,{style:{width:"100%"}},e.produto.nome),o.a.createElement(Pe.a,{align:"right"},De(e.produto.preco*e.quantidade)))})),o.a.createElement(Ce.a,null,o.a.createElement(Pe.a,null),o.a.createElement(Pe.a,{style:{fontWeight:900}},"Total"),o.a.createElement(Pe.a,{align:"right",style:{fontWeight:900}},De(i.pedido.itens.reduce((function(e,t){return e+t.produto.preco*t.quantidade}),0))))))),o.a.createElement(ct.a,{style:{justifyContent:"space-between"}},g.acaoRejeitar&&o.a.createElement(z.a,{onClick:function(){var e=g.rejeitar;e&&d({variables:{id:n,pedido:{situacao:e}}})},disabled:f},g.acaoRejeitar),g.acaoProximo&&o.a.createElement(z.a,{color:"primary",variant:"contained",onClick:function(){var e=g.proximo;e&&d({variables:{id:n,pedido:{situacao:e}}})},disabled:f},g.acaoProximo))))))}))),mt=a(242),dt=a(42),pt=a(35),ft=a(126),gt=function(e){return!e&&"Obrigat\xf3rio"},bt=function(e){return!Object(ft.a)(e)&&"CNPJ inv\xe1lido"};function Ot(){var e=Object($.a)(["\n  mutation LogarRestaurante($email: String!, $senha: String!) {\n    logarRestaurante(email: $email, senha: $senha) {\n      token\n      restaurante {\n        _id\n        bloqueado\n      }\n    }\n  }\n"]);return Ot=function(){return e},e}function Et(){var e=Object($.a)(["\n  mutation RegistrarRestaurante($registro: RegistroDeRestaurante) {\n    registrarRestaurante(registro: $registro) {\n      token\n      restaurante {\n        _id\n        bloqueado\n      }\n    }\n  }\n"]);return Et=function(){return e},e}var ht=B()(Et()),vt=B()(Ot()),jt=a(34),yt=Object(jt.a)(),wt=function(e){return localStorage.setItem("authToken",e)},xt=function(){return localStorage.getItem("authToken")};function Ct(e){var t=e.token;e.restaurante.bloqueado?yt.push(Ft["restaurante-bloqueado"].path):(wt(t),yt.push(Ft["editar-cardapios"].path))}var Pt=Object(b.a)((function(){return{textField:{height:"80px"}}}));var Dt=Object(E.a)((function(e){var t=Pt(),a=Object(R.a)(vt,{onCompleted:function(e){Ct(e.logarRestaurante)}}),n=Object(l.a)(a,2),o=n[0],i=n[1].error;return r.createElement(y.a,null,r.createElement(mt.a,{container:!0,spacing:2,justify:"center"},r.createElement(mt.a,{item:!0,xs:12,sm:8,md:4},r.createElement(pt.c,{initialValues:St,validateOnBlur:!0,onSubmit:function(){var e=Object(D.a)(P.a.mark((function e(t,a){var n,r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.senha,i=a.setSubmitting,e.prev=2,e.next=5,o({variables:{email:n,senha:r}});case 5:return e.prev=5,i(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.isSubmitting;return r.createElement(pt.b,null,r.createElement(rt.a,null,r.createElement(m.a,{style:{color:pe.palette.primary.contrastText,backgroundColor:pe.palette.primary.main}},r.createElement(p.a,{variant:"h5"},"Login")),r.createElement(ot.a,{style:{display:"flex",flexDirection:"column"}},r.createElement(pt.a,{className:t.textField,component:dt.a,label:"E-mail",name:"email",type:"email",required:!0,validate:gt}),r.createElement(pt.a,{className:t.textField,component:dt.a,label:"Senha",name:"senha",type:"password",required:!0,validate:gt})),r.createElement(ct.a,null,r.createElement(z.a,{fullWidth:!0,color:"primary",variant:"contained",disabled:a,type:"submit"},"Entrar")),i&&r.createElement("p",null," ",i.message),r.createElement("div",{style:{margin:pe.spacing(1),textAlign:"center"}},r.createElement(fe.b,{style:{color:"grey",textDecoration:"underline"},to:Ft["registrar-restaurante"].path}," Ainda n\xe3o possuo uma conta "))))})))))})),St={email:"",senha:""},kt=a(104);function It(e){return r.createElement(kt,Object.assign({},e,{mask:"99.999.999/9999-99"}))}var zt=function(e){return r.createElement(dt.a,Object.assign({},e,{InputProps:{inputComponent:It}}))},_t=a(104);function Rt(e){return r.createElement(_t,Object.assign({},e,{mask:e.value.slice(4,5)>=6?"(99)99999-9999":"(99)9999-9999"}))}var $t=function(e){return r.createElement(dt.a,Object.assign({},e,{InputProps:{inputComponent:Rt}}))};function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nt=Object(b.a)((function(e){return{textField:{height:"80px"}}}));var At=Object(E.a)((function(e){var t=Nt(),a=Object(R.a)(ht,{onCompleted:function(e){Ct(e.registrarRestaurante)}}),n=Object(l.a)(a,2),o=n[0],i=n[1].error;return r.createElement(y.a,null,r.createElement(mt.a,{container:!0,spacing:2,justify:"center"},r.createElement(mt.a,{item:!0,xs:12,sm:8,md:6},r.createElement(pt.c,{initialValues:Bt({},Tt,{confirmarSenha:""}),validateOnBlur:!0,onSubmit:function(){var e=Object(D.a)(P.a.mark((function e(t,a){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,t.confirmarSenha,r=Object(X.a)(t,["confirmarSenha"]),e.prev=2,e.next=5,o({variables:{registro:Bt({},r,{cnpj:Se(r.cnpj)})}});case 5:return e.prev=5,n(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.isSubmitting;return r.createElement(pt.b,{autoComplete:"off"},r.createElement(rt.a,null,r.createElement(m.a,{style:{color:pe.palette.primary.contrastText,backgroundColor:pe.palette.primary.main}},r.createElement(p.a,{variant:"h5"},"Novo Restaurante")),r.createElement(ot.a,{style:{display:"flex",flexDirection:"column"}},r.createElement(pt.a,{autoComplete:"new-password",component:dt.a,label:"Nome do Restaurante",name:"nome",type:"text",required:!0,className:t.textField,validate:gt}),r.createElement(pt.a,{autoComplete:"new-password",component:zt,label:"CNPJ",name:"cnpj",required:!0,className:t.textField,validate:function(e){var t=e.replace(/[\D]/g,"");return gt(t)||bt(t)}}),r.createElement(pt.a,{autoComplete:"new-password",component:dt.a,label:"E-mail",type:"email",name:"email",className:t.textField,required:!0,validate:gt}),r.createElement(pt.a,{autoComplete:"new-password",component:$t,label:"Telefone",type:"tel",name:"telefone",className:t.textField,required:!0,validate:gt}),r.createElement(pt.a,{autoComplete:"new-password",component:dt.a,label:"Senha",name:"senha",type:"password",className:t.textField,required:!0,validate:gt}),r.createElement(pt.a,{autoComplete:"new-password",component:dt.a,label:"Confirmar Senha",type:"password",name:"confirmarSenha",className:t.textField,required:!0,validate:function(e){return gt(e)||e!==a.senha&&"Senhas n\xe3o coincidem"}})),r.createElement(ct.a,null,r.createElement(z.a,{fullWidth:!0,color:"primary",variant:"contained",type:"submit",disabled:n},"Registrar"),i&&r.createElement("p",null," ",i.message)),r.createElement("div",{style:{margin:pe.spacing(1),textAlign:"center"}},r.createElement(fe.b,{style:{color:"grey",textDecoration:"underline"},to:Ft.login.path}," J\xe1 possuo uma conta "))))})))))})),Tt={email:"",nome:"",cnpj:"",telefone:"",senha:""};var Wt=function(e){return o.a.createElement(y.a,{maxWidth:"sm"},o.a.createElement(w.a,{my:4},o.a.createElement(p.a,{variant:"h4",component:"h1",gutterBottom:!0},"Restaurante")))},Ft={home:{nomeDoMenu:"Home",nome:"Home",icone:j.f,path:"/",componente:x},login:{nomeDoMenu:"Login",nome:"Login do Restaurante",icone:j.g,path:"/restaurantes/login",componente:Dt},"restaurante-bloqueado":{nome:"Em Breve",path:"/restaurantes/em-breve",componente:function(){return o.a.createElement(y.a,null,o.a.createElement("h2",null,"EM BREVE"),o.a.createElement("div",null,"Estamos em testes mas ansiosos para trabalhar com voc\xea! ; ) "),o.a.createElement("div",null,"Caso queira participar ou tirar d\xfavidas, envie um e-mail para contato@pleez.com.br"),o.a.createElement("a",{onClick:function(){return window.location.assign(Ft.login.path)}},"Voltar para o login."))}},"registrar-restaurante":{nomeDoMenu:"Cadastrar",nome:"Cadastro de Restaurante",icone:j.k,path:"/restaurantes/registrar",componente:At},"editar-restaurante":{nomeDoMenu:"Restaurante",nome:"Configurar Restaurante",icone:j.l,path:"/restaurante",componente:Wt},pedidos:{nomeDoMenu:"Pedidos",nome:"Pedidos",icone:j.a,path:"/pedidos",componente:at,rotas:{pedido:{nome:"DetalhePedido",path:"/pedidos/:id",componente:st}}},"editar-cardapios":{nomeDoMenu:"Card\xe1pio",nome:"Card\xe1pio",icone:j.j,path:"/cardapio",componente:ve,rotas:{"editar-categoria":{nome:"EditarCategoria",path:"/cardapio/categorias/:id",componente:Le}}}},Lt=Object(b.a)((function(e){return Object(O.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)},spacer:{flexGrow:1}})})),Qt=Object(E.a)((function(e){var t=Lt(),a=Object(v.g)(),n=Object.values(Ft).find((function(e){if("/"!==e.path)return a.pathname.startsWith(e.path)}));return o.a.createElement(s.a,{className:Object(h.a)(t.appBar,Object(u.a)({},t.appBarShift,e.drawerOpen))},o.a.createElement(m.a,null,o.a.createElement(d.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return e.onOpenDrawer&&e.onOpenDrawer()},edge:"start",className:Object(h.a)(t.menuButton,Object(u.a)({},t.hide,e.drawerOpen))},o.a.createElement(g.a,null)),o.a.createElement(p.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0},n?n.nome:""),o.a.createElement("div",{className:t.spacer})))})),Ht=a(247),Mt=a(87),Jt=a(251),Vt=a(245),Gt=a(124),Xt=a.n(Gt);function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yt=Object(b.a)((function(e){return Object(O.a)({toolbar:Ut({},e.mixins.toolbar,{display:"flex",alignItems:"center",justifyContent:"flex-end",backgroundColor:e.palette.primary.main}),drawer:Object(u.a)({},e.breakpoints.up("sm"),{flexShrink:0}),drawerPapper:{},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),logoWrapper:{display:"flex",flex:1,height:e.mixins.toolbar.minHeight,padding:12},logo:{maxHeight:"100%",maxWidth:"100%"}})})),Zt=o.a.forwardRef((function(e,t){return o.a.createElement(fe.a,Object.assign({innerRef:t},e))})),ea=Object(E.a)((function(e){var t,a,n=Object(Mt.a)(),r=Yt(),i=[Ft.login,Ft["registrar-restaurante"],Ft.home,Ft.pedidos,Ft["editar-cardapios"],Ft["editar-restaurante"]];return o.a.createElement("nav",{className:r.drawer},o.a.createElement(Jt.a,{variant:Object(Vt.a)(n.breakpoints.up("sm"))?"permanent":"temporary",open:Object(Vt.a)(n.breakpoints.up("sm"))||e.open,onClose:function(){return e.onToggleDrawer&&e.onToggleDrawer()},ModalProps:{keepMounted:!0},className:Object(h.a)(r.drawer,(t={},Object(u.a)(t,r.drawerOpen,e.open),Object(u.a)(t,r.drawerClose,!e.open),t)),classes:{paper:Object(h.a)((a={},Object(u.a)(a,r.drawerOpen,e.open),Object(u.a)(a,r.drawerClose,!e.open),a))}},o.a.createElement("div",{className:r.toolbar},o.a.createElement("div",{className:r.logoWrapper},o.a.createElement("img",{src:Xt.a,alt:"Logo",className:r.logo})),o.a.createElement(d.a,{onClick:function(){return e.onToggleDrawer&&e.onToggleDrawer()}},o.a.createElement(ue.a,{path:j.e,size:1,color:n.palette.primary.contrastText}))),o.a.createElement(_.a,null),o.a.createElement("div",null,o.a.createElement(S.a,null,i.map((function(e){return o.a.createElement(k.a,{button:!0,key:e.nome,component:Zt,to:e.path,activeclassname:"primary"},o.a.createElement(Qe.a,null,o.a.createElement(ue.a,{path:e.icone||"",size:1})),o.a.createElement(I.a,{primary:e.nomeDoMenu}))}))))))})),ta=a(246);function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ra=Object(K.a)((function(e){return Object(U.a)({root:{flexGrow:1,overflowX:"hidden",display:"flex",flexDirection:"column",flex:1},main:{flexGrow:1,paddingTop:e.spacing(3),overflowX:"hidden",display:"flex",flexDirection:"column",flex:1},toolbarSpacing:na({},e.mixins.toolbar,{flexShrink:0})})})),oa=Object(ta.a)((function(e){var t=ra();return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.toolbarSpacing}),o.a.createElement("main",{className:t.main},o.a.createElement(v.c,null,Object.entries(Ft).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement(v.a,{key:a,exact:!n.rotas,path:n.path,render:function(e){return o.a.createElement(n.componente,Object.assign({},e,{rotas:n.rotas}))}})})))))})),ia=a(28),ca=(a(170),a(250)),la=a(49),ua=a(60),sa=a(249),ma=new ca.a({uri:"/graphql"}),da=new la.a((function(e,t){var a=xt();return e.setContext({headers:{authorization:a?"Bearer ".concat(a):""}}),t(e)})),pa=new ua.a({link:da.concat(ma),cache:new sa.a}),fa=Object(b.a)((function(){return Object(O.a)({root:{display:"flex",height:"100vh"}})})),ga=function(){var e=fa(),t=o.a.useState(!1),a=Object(l.a)(t,2),n=a[0],r=a[1];return o.a.createElement(ia.a,{client:pa},o.a.createElement(nt.a,{theme:pe},o.a.createElement(v.b,{history:yt},o.a.createElement(Ht.a,null),o.a.createElement("div",{className:e.root},o.a.createElement(Qt,{drawerOpen:n,onOpenDrawer:function(){return r(!n)}}),o.a.createElement(ea,{open:n,onToggleDrawer:function(){return r(!n)}}),o.a.createElement(oa,null)))))};Object(n.config)(),c.a.render(o.a.createElement(ga,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,1,2]]]);
//# sourceMappingURL=main.b9a34f76.chunk.js.map